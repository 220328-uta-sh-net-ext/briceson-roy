# History of Linux
## What is Linux?
- A free open source operating system created by Linus Torvalds with assistance from developers worldwide
- Linus Torvalds developed the Linux Kernel in 1991
- Created due to a perceived lacking of features with Minix ( a small version of Unix meant for academic purposes)
- It is a kernel - provides access to computer hardware and control access to resources like: 
  - Files and data
  - Running programs
  - Loading programs into memory
  - Networks
  - Security and Firewalls
- Shell:
  - An interactive user interface between the user and the operating system
  - Gives access to services of the kernel
  - Executes commands
  - Can be used as a programming language or a command interpreter
  - Reads commands from input lines or files
## Brief [Shell History](https://developer.ibm.com/tutorials/l-linux-shells/)
- Ken Thompson of Bell Labs developed the first Shell in 1971 for Unix called V6
- Multiple different shells were made from the beginning one, branching off for different purposes/specifications
- In 1989 the BASH shell was created
- Bash has elements from C and Korn Shells
- Bash is backwards compatible with the Bourne Shell
- Bash is still being developed today

![image.txt](https://developer.ibm.com/developer/default/tutorials/l-linux-shells/images/figure1.gif)

# Getting Started with Shell Programming
- The Bash Shell takes commands in from the user or a file and uses said commands to execute certain tasks.
- There are three parts to a command
  - The command itself
  - Options to the command that start with a - or – 
  - The Argument for the Command
- Bash Shell understands certain commands
  - Aliases
  - Keywords
  - Functions (user defined and built in, can be determined by the type command)
  - File paths
  - For full list of [commands](https://bash.cyberciti.biz/guide/Shell_commands#Executing_commands_using_the_Bash_Shell)
- Users can login with the shell environment
- There are a variety of other shells besides BASH
- #! Can be used to execute an interpreter
- '#' By itself can be used to comment out code or to create comments
  - Comments do not affect execution speed
  - <<COMMENT1 … COMMENT1 can be used to comment out multiple lines
- chmod can be used to limit who can run shell scripts where. +x means anyone can
- To execute a script do
  - chmod +x script.sh
  - ./script.sh
- Or
  - bash script.sh
  - . script.sh
- bash -x script can also be used for debugging

# The Shell Variables and Environment
- Shell Variables
- Commonly Used Shell Variables
  - BASH_VERSION - Holds the version of this instance of bash.
  - HOSTNAME - The name of the your computer.
  - CDPATH - The search path for the cd command.
  - HISTFILE - The name of the file in which command history is saved
  - HISTFILESIZE - The maximum number of lines contained in the history file.
  - HISTSIZE - The number of commands to remember in the command history. The default value is 500.
  - HOME - The home directory of the current user.
  - IFS - The Internal Field Separator that is used for word splitting after expansion and to split lines into words with the read builtin command. The default value is <space><tab><newline>.
  - LANG - Used to determine the locale category for any category not specifically selected with a variable starting with LC_.
  - PATH - The search path for commands. It is a colon-separated list of directories in which the shell looks for commands.
  - PS1 - Your prompt settings.
  - TMOUT - The default timeout for the read builtin command. Also in an interactive shell, the value is interpreted as the number of seconds to wait for input after issuing the command. If not input provided it will logout user.
  - TERM - Your login terminal type.
  - SHELL - Set path to login shell.
  - DISPLAY - Set X display name
  - EDITOR - Set name of default text editor.
- Assignment Operators
  - := means if the variable is empty, whatever is to the right is assigned to the variable on the left as a default value
  - = can be used to assign a variable
  - Null variables can be assigned with NAME=”” or NAME=
- Variable Naming Conventions
  - Must begin with and contain alphanumeric or underscore characters(s)
  - Cannot contain special characters
  - To print a variable type echo $VARIABLE_NAME or printf “%s\n” “$VAR_NAME”
- Printing commands
  - There are many ways to format print statements
  - Can print all files with a certain ending with *.java for all java files, for example.
  - Use single quotes for printing just text
  - Use double quotes for text + variables
  - Backslash can disable the effects of variables, making them be printed as text
- Export
  - All variables are defined as local
  - Export allows you to export variables to other processes
  - export -p = list of all names exported
  - export -n NAME = remove NAME from exported list
- Unset deletes variables
- Read
  - Allows user input to a variable that can be used elsewhere in the code with read -p
  - Saved with chmod +x name.sh
  - Run with ./name.sh
  - Read -t 15 -p = a 15 second timer to input, before timing out
  - Read -s = the text entered will now show up on screen
  - Multiple inputs can be put into one variable
    - If they are, they’re saved with IFS separating them (Internal Field Separator)
  - read -r n1 n2 n3 names would split names between n1, n2 and n3 if it has 3 variables
  - The IFS can be changed by saving the old IFS somewhere else (old=”$IFS”) and assigning it something new (IFS=:)
- Shell Arithmetic Operations
  - + : Addition
  - "-" : Subtraction
  - *: Multiplication
  - /: Division
  - %: Modulus. Checks if there is a remainder
  - ++n/ - -n: pre increment operation
  - n++/n - -: post increment operation
  - n**x: exponentiation 
- Creating integer Variables
  - Using the declare command
    - Declare -i y=10
  - Echo $y
- Create shell script called inmath
  - Declare -i x=10
  - Declare -i y=10
  - Declare -i z=0
  - z=$((x + y))
  - Echo “$x + $y = $z”
- Save and close. Run  as follows
  - Chmod +x inmath.sh
  - ./inmath.sh
  - Samples: 10 + 10 = 20, 0 + 10=10
- Creating Constant Variables
- Create constant variables using the readonly or declare commands
 - Readonly command - can’t unset/delete
    - Readonly var
    - Readonly varName = value
  - Declare 
    - Declare -r var
    - Declare -r varName =value
- Bash Variable Existence check
  - If the variable is not defined you can stop executing Bash script with the following syntax:
    - ${varName?Error varName is not defined}
    - ${varName:?Error varName is defined or is empty}
  - This is useful for a sanity checking
  - The script will stop executing if the variable is not defined.
- Shell Environment
  - Customizing Bash Shell Environments 
    - Two types of shell variables
      - Local Variables
        - Used by shell and or user scripts. All user created variables are local unless exported using the export command.
        - Use set to view all variables
          - set
        - Usually set in all caps
          - Echo $SHELL
          - Echo $MAIL
        - Exported with the export command
          - Export EDITOR=/usr/bin/vim
          - Export DISPLAY=localhost:11,0 xeyes
		
      - Environment Variables
        - Used by shell or user but they are also passed onto other command. Environment variables are passed to subprocesses or subshells.
        - View with the env command
        - Common Environment Variables
          - HOME - home directory path
          - PATH - set your executable search path
          - PWD - your currently working directory
          - [more](https://bash.cyberciti.biz/guide/Variables#Commonly_Used_Shell_Variables)
	
  - Recalling Command History
    - Bash keeps a command history in ~/.bash_history or in the buffer
    - history = an output of all commands saved in the history
    - Use up and down to navigate
    - Cltr-r searches for a particular command
    - !! repeats last command
    - !(something particular) will run something with that particular feature
    - !(number) will run the command at that line number
  - Path Name Expansion
    - Curly Braces can be used to make multiple things with similar names
    - Ex: echo file(1…5).txt = file1.txt file2.txt file3.txt file4.txt file5.txt
  - Create and use aliases
    - Alias allows users to give commands nicknames for easier use
    - To create an alias do alias (letter)=’command_name’
    - To remove an alias do unalias alias_name
    - To permanently add an alias, place it in /etc/bashrc or or /etc/profile.d/useralias.sh
    - To ignore an alias, use \ or “” around the command
  - Tilde Expansion
    - The tilde refers to your home directory file listing, or other user’s.
  - Startup Scripts
    - Script Execution Order
      - /etc/profile - It contains Linux system wide environment and startup programs. This file runs first when a user logs in to the system. This file also act as a system-wide profile file for the bash shell.
      - /etc/profile.d - /etc/profile calls /etc/profile.d/. It is a directory and all scripts in this directory are called by /etc/profile using a [for loop](https://bash.cyberciti.biz/guide/For_loop). This file runs second when a user logs in.
      - ~/.bash_profile or $HOME/.bash_profile - Finally, the file ~/.bash_profile is called in the users home directory ($HOME). This file runs third when a user logs in. This file calls ~/.bashrc in the users home directory.

        - Usage
          - Used to customize the environment in question
          - Examples:
            - Set PATH and PS1 (shell prompt) variables.
            - Set default printer via PRINTER variable.
            - Set default text editor via EDITOR variable.
            - Set default pager via PAGER variable.
            - Set default umask (file mode creation mask).
            - Override and remove unwanted settings such as variables or aliases (undo changes).
            - Set up environment.
            - Set up [aliases](https://bash.cyberciti.biz/guide/Using_aliases).
            - Set up [functions](https://bash.cyberciti.biz/guide/Writing_your_first_shell_function).

           - Viewing dot (.) Files
             - Use the following commands in the $HOME directory
              - ls -a
              - ls -A | less
             - Viewing File Contents
              - cat .bash_profile
              - Cat $HOME/.bash_profile
              - Cat ~/.bash_profile 
		
  - Using Aliases	
      - Customize your bash by creating alias as follows:
        - C = clear the screen
           - alias c='clear'
        - Update = update and install the newest versions of all packages currently installed on the Debian system
          - alias update='apt-get update && apt-get upgrade'

        - Ports - Lists all listening TCP/UDP ports with the PID of the associated process.
          - alias ports='netstat -tulpn'
        - Vi - Run vim text editor instead of old vi.
          - alias vi='vim'
  - Changing Bash Prompt
    - See all [bash Prompts](https://bash.cyberciti.biz/guide/Changing_bash_prompt)
  - Setting Shell Options
    - All Current [Shell Options](https://bash.cyberciti.biz/guide/Setting_shell_options)
  - Setting System wide shell Options
    - By default /etc/profile file act as a system-wide profile file for the Bash shell.
    - You can force setting using this file for all user. However, it is recommended that you use /etc/profile.d file under CentOS / Fedora / Redhat Enterprise Linux. For all other distribution edit /etc/profile file.
    - Task: Setting up a JAVA_HOME and PATH settings for all user.
      - Create /etc/profile.d/java.sh file, enter:
        - Export JAVA_HOME=/opt/jdk1.5.0_12
        - Export PATH=$PATH:$JAVA_HOME/bin